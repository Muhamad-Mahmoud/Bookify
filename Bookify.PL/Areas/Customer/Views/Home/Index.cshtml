@model HomeVM

@{
    ViewData["Title"] = "Home Page";
}

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-background">
        <img src="~/images//BookingImages/hotels.jpg" alt="Beautiful resort" />
    </div>
    <div class="container hero-container">
        <div class="hero-content">
            <span class="hero-badge">Discover The World</span>
            <h1 class="hero-title">
                Find your perfect stay for every trip
            </h1>

            <p class="hero-subtitle">
                Discover exclusive deals on hotels, private homes, resorts, and unique places to stay worldwide.
                Book with confidence and start your next adventure the right way.
            </p>

        </div>

      
    </div>
</section>



<partial name="_SearchBoxPartial" />



<!-- Featured Hotels -->
@if (Model.FeaturedHotels.Any())
{
    <section class="section-hotels" id="Featured">
        <div class="container">
            <div class="section-header-modern">
                <div>
                    <h2 class="section-title">Our Featured Hotels</h2>
                    <p class="section-subtitle">Favorite destinations based on customer reviews</p>
                </div>

            </div>

            <div class="hotels-grid">
                @foreach (var hotel in Model.FeaturedHotels.Take(3))
                {
                    <div class="hotel-card-modern">
                        <a href="@Url.Action("GetHotel", "Hotel", new { area = "Customer", id = hotel.Id })" class="hotel-card-link">
                            <div class="hotel-card-image">
                                @if (!string.IsNullOrEmpty(hotel.MainImage))
                                {
                                    <img src="@hotel.MainImage" alt="@hotel.Name" loading="lazy" />
                                }
                                <button class="card-favorite-btn">
                                    <i class="far fa-heart"></i>
                                </button>
                                <div class="card-rating-overlap">
                                    <i class="fas fa-star text-warning"></i> 
                                    <span class="rating-text">@(hotel.UserRating > 0 ? hotel.UserRating.ToString("0.0") : "4.8")</span>
                                    <span class="review-count">(672 reviews)</span>
                                </div>
                            </div>
                            <div class="hotel-card-content">
                                <h3 class="hotel-card-title">@hotel.Name</h3>
                                <div class="hotel-card-meta">
                                    <span><i class="far fa-clock"></i> 2 days 3 nights</span>
                                    <span><i class="far fa-user"></i> 4-6 guest</span>
                                </div>
                                
                                @if (hotel.RoomTypes.Any())
                                {
                                    var minPrice = hotel.RoomTypes.Min(rt => rt.BasePrice);
                                    <div class="hotel-card-footer">
                                        <div class="price-block">
                                            <span class="price-amount">$@minPrice.ToString("N0")</span>
                                            <span class="price-per">/ person</span>
                                        </div>
                                        <button class="btn-book-pill">Book Now</button>
                                    </div>
                                }
                            </div>
                        </a>
                    </div>
                }
            </div>
        </div>
    </section>


}



<!-- Trending Destinations -->

@if (Model.FeaturedCities.Any())
{
    <section class="section-trending mt-5 mb-5" id="destinations">
        <div class="container">
            <div class="section-header-modern">
                <div>
                    <h2 class="section-title">Trending destinations</h2>
                    <p class="section-subtitle">Most popular choices for travelers from Egypt</p>
                </div>
            </div>

            <div class="trending-grid">
                @foreach (var city in Model.FeaturedCities.Take(5))
                {
                    var flag = "🇪🇬"; // Default to Egypt
                    if (city.Name.Contains("Dubai") || city.Name.Contains("Abu Dhabi")) { flag = "🇦🇪"; }
                    else if (city.Name.Contains("London")) { flag = "🇬🇧"; }
                    else if (city.Name.Contains("Paris")) { flag = "🇫🇷"; }
                    else if (city.Name.Contains("Riyadh") || city.Name.Contains("Jeddah")) { flag = "🇸🇦"; }

                    <a href="@Url.Action("Search", "Hotel", new { area = "Customer", location = city.Name })" class="trending-card">
                        <div class="trending-card-image">
                            @if (!string.IsNullOrEmpty(city.Image))
                            {
                                <img src="@city.Image" alt="@city.Name" />
                            }
                            <div class="trending-overlay-top"></div>
                        </div>
                        <div class="trending-card-content">
                            <h3 class="trending-card-title">@city.Name <span class="city-flag">@flag</span></h3>
                        </div>
                    </a>
                }
            </div>
        </div>
    </section>
}

<!-- Why Choose Us -->
<section class="section-features-premium">
    <div class="container">
        <div class="section-header-center text-center mb-5">
            <h2 class="section-title">Why Book With Us?</h2>
            <p class="section-subtitle">Experience the difference with our world-class services</p>
        </div>

        <div class="features-grid-premium">
            <!-- Card 1: Security -->
            <div class="feature-card-premium card-mint">
                <div class="feature-icon-circle">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3>Secure Booking</h3>
                <p>Advanced encryption ensures your personal and payment data is always protected.</p>
                <a href="#" class="btn-learn-more">Learn More <i class="fas fa-arrow-right"></i></a>
            </div>

            <!-- Card 2: Support -->
            <div class="feature-card-premium card-pink">
                <div class="feature-icon-circle">
                    <i class="fas fa-headset"></i>
                </div>
                <h3>24/7 Support</h3>
                <p>Our dedicated team is here to assist you anytime, anywhere in the world.</p>
                <a href="#" class="btn-learn-more">Learn More <i class="fas fa-arrow-right"></i></a>
            </div>

            <!-- Card 3: Price -->
            <div class="feature-card-premium card-blue">
                <div class="feature-icon-circle">
                    <i class="fas fa-tag"></i>
                </div>
                <h3>Best Price Guarantee</h3>
                <p>Find a lower price elsewhere? We'll match it and give you a discount.</p>
                <a href="#" class="btn-learn-more">Learn More <i class="fas fa-arrow-right"></i></a>
            </div>

            <!-- Card 4: Reviews -->
            <div class="feature-card-premium card-purple">
                <div class="feature-icon-circle">
                    <i class="fas fa-star"></i>
                </div>
                <h3>Verified Reviews</h3>
                <p>Millions of real reviews from trusted travelers to help you make the right choice.</p>
                <a href="#" class="btn-learn-more">Learn More <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>

        <!-- Payment Partners -->
        <div class="payment-partners">
            <i class="fab fa-cc-visa"></i>
            <i class="fab fa-cc-mastercard"></i>
            <i class="fab fa-cc-paypal"></i>
            <i class="fab fa-cc-stripe"></i>
            <i class="fab fa-cc-apple-pay"></i>
            <i class="fab fa-google-pay"></i>
        </div>
    </div>
</section>



@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script src="~/javascript/main.js" asp-append-version="true"></script>
    <script src="~/javascript/carousel.js" asp-append-version="true"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('.search-form-modern');
            if (form) {
                form.addEventListener('submit', function() {
                    if (window.combinedCalendar) {
                        window.combinedCalendar.updateInputs();
                    }
                });
            }
        });
    </script>
}

@section Styles {
    <style>
        .hero-background img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
}
